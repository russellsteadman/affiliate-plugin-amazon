!function(e){var t,s,i,n,r
if(!e)throw new Error("[Jasmine JSReporter] 'Jasmine' library not found")
function u(e){var t,s,i=[]
for(t=0;t<e.length;t+=1)(s=e[t]).passed_||i.push(s)
return i}function a(e){var t,s,i,n,r={description:e.description,durationSec:0,specs:[],suites:[],passed:!0},o=e.specs(),p=e.suites()
for(t=0,s=o.length;t<s;++t)r.specs[t]={description:o[t].description,durationSec:o[t].durationSec,passed:o[t].results().passedCount===o[t].results().totalCount,skipped:o[t].results().skipped,passedCount:o[t].results().passedCount,failedCount:o[t].results().failedCount,totalCount:o[t].results().totalCount,failures:u(o[t].results().getItems())},r.passed=!!r.specs[t].passed&&r.passed,r.durationSec+=r.specs[t].durationSec
for(t=0,s=p.length;t<s;++t)r.suites[t]=a(p[t]),r.passed=!!r.suites[t].passed&&r.passed,r.durationSec+=r.suites[t].durationSec
return r.durationSec=(i=r.durationSec,n=(n=4)||2,Math.round(i*Math.pow(10,n))/Math.pow(10,n)),r}(t=function(){}).prototype={reportRunnerStarting:function(e){},reportSpecStarting:function(e){e.startedAt=new Date},reportSpecResults:function(e){var t
e.finishedAt=new Date,e.durationSec=e.startedAt?(t=e.startedAt.getTime(),(e.finishedAt.getTime()-t)/1e3):0},reportSuiteResults:function(e){},reportRunnerResults:function(t){var s,i,n,r=t.suites()
for(e.runnerResults={suites:[],durationSec:0,passed:!0},s=0,n=r.length,i=0;s<n;++s)null===r[s].parentSuite&&(e.runnerResults.suites[i]=a(r[s]),e.runnerResults.passed=!!e.runnerResults.suites[i].passed&&e.runnerResults.passed,e.runnerResults.durationSec+=e.runnerResults.suites[i].durationSec,i++)
e.getJSReport=function(){return e.runnerResults?e.runnerResults:null},e.getJSReportAsString=function(){return JSON.stringify(e.getJSReport())}}},e.JSReporter=t,(s=function(){}).prototype.start=function(){return this.startTime=(new Date).getTime(),this},s.prototype.elapsed=function(){return null==this.startTime?-1:(new Date).getTime()-this.startTime},i=function(e,t){for(var s in t)e[s]=t[s]
return e},n=function(e){return e!==Object(e)?e:i({},e)},e.JSReporter2=function(){this.specs={},this.suites={},this.rootSuites=[],this.suiteStack=[],e.getJSReport=this.getJSReport,e.getJSReportAsString=this.getJSReportAsString},(r=e.JSReporter2.prototype).suiteStarted=function(e){(e=this._cacheSuite(e)).specs=[],e.suites=[],e.passed=!0,e.parentId=this.suiteStack.slice(this.suiteStack.length-1)[0],e.parentId?this.suites[e.parentId].suites.push(e):this.rootSuites.push(e.id),this.suiteStack.push(e.id),e.timer=(new s).start()},r.suiteDone=function(e){(e=this._cacheSuite(e)).duration=e.timer.elapsed(),e.durationSec=e.duration/1e3,this.suiteStack.pop()
var t=this.suites[e.parentId]
t&&(t.passed=t.passed&&e.passed),delete e.timer,delete e.id,delete e.parentId,delete e.fullName},r.specStarted=function(e){(e=this._cacheSpec(e)).timer=(new s).start(),e.suiteId=this.suiteStack.slice(this.suiteStack.length-1)[0],this.suites[e.suiteId].specs.push(e)},r.specDone=function(e){var t,s,i,n
for((e=this._cacheSpec(e)).duration=e.timer.elapsed(),e.durationSec=e.duration/1e3,e.skipped="pending"===e.status,e.passed=e.skipped||"passed"===e.status,e.totalCount=e.passedExpectations.length+e.failedExpectations.length,e.passedCount=e.passedExpectations.length,e.failedCount=e.failedExpectations.length,e.failures=[],t=0,s=e.failedExpectations.length;t<s;t++)i=e.failedExpectations[t],e.failures.push({type:"expect",expected:i.expected,passed:!1,message:i.message,matcherName:i.matcherName,trace:{stack:i.stack}})
n=this.suites[e.suiteId],e.failed&&n.failingSpecs.push(e),n.passed=n.passed&&e.passed,delete e.timer,delete e.totalExpectations,delete e.passedExpectations,delete e.suiteId,delete e.fullName,delete e.id,delete e.status,delete e.failedExpectations},r.jasmineDone=function(){this._buildReport()},r.getJSReport=function(){if(e.jsReport)return e.jsReport},r.getJSReportAsString=function(){if(e.jsReport)return JSON.stringify(e.jsReport)},r._haveSpec=function(e){return null!=this.specs[e.id]},r._cacheSpec=function(e){var t=this.specs[e.id]
return null==t?t=this.specs[e.id]=n(e):i(t,e),t},r._haveSuite=function(e){return null!=this.suites[e.id]},r._cacheSuite=function(e){var t=this.suites[e.id]
return null==t?t=this.suites[e.id]=n(e):i(t,e),t},r._buildReport=function(){var t,s,i,n=0,r=!0,u=[]
for(t=0,s=this.rootSuites.length;t<s;t++)n+=(i=this.suites[this.rootSuites[t]]).duration,r=r&&i.passed,u.push(i)
e.jsReport={passed:r,durationSec:n/1e3,suites:u}}}(jasmine)
